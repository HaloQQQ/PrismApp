<UserControl
    x:Class="MyApp.Prisms.Views.WindowTitleBarView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:views="clr-namespace:MyApp.Prisms.Views"
    Panel.ZIndex="100">
    <WindowTitleBar>
        <WindowTitleBar.LeftCollection>
            <ElementCollection>
                <Image
                    Width="30"
                    Height="30"
                    Margin="10,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Source="../../Resources/雪山祥云.png"
                    ToolTip="{Binding Version, Mode=OneTime}" />

                <TextBlock
                    Margin="2"
                    DockPanel.Dock="Left"
                    FontSize="18"
                    Style="{StaticResource TextBlock_Theme_Icon}">
                    <TextBlock>
                        <TextBlock Text="&#xe64d;" />
                        <TextBlock Text="{Binding CurrentTime}" />
                        <TextBlock Text="{Binding Week}" />
                    </TextBlock>

                    <TextBlock>
                        <TextBlock Text="Cpu:" />
                        <TextBlock
                            MinWidth="25"
                            Text="{Binding CpuRate}"
                            TextAlignment="Right" />
                        <TextBlock Text="%" />
                    </TextBlock>

                    <TextBlock>
                        <TextBlock Text="Ram:" />
                        <TextBlock
                            MinWidth="25"
                            Text="{Binding RamRate}"
                            TextAlignment="Right" />
                        <TextBlock Text="%" />
                    </TextBlock>
                </TextBlock>
            </ElementCollection>
        </WindowTitleBar.LeftCollection>
        <WindowTitleBar.RightCollection>
            <ElementCollection>
                <Button MouseRightButtonUp="SwitchBackSliderMoveOut_OnMouseRightButtonUp" Style="{StaticResource Button_Icon_Theme}">
                    <Button.InputBindings>
                        <MouseBinding Command="{Binding SwitchThemeCommand}" MouseAction="LeftClick" />
                    </Button.InputBindings>
                </Button>

                <Button
                    ContextMenu="{StaticResource MainMenu}"
                    MyAttachProperty.HasContextMenu="True"
                    Style="{StaticResource Button_Icon_MainMenu}" />

                <views:WindowTitleView HorizontalAlignment="Left" />
            </ElementCollection>
        </WindowTitleBar.RightCollection>
    </WindowTitleBar>
</UserControl>